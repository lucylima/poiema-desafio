(module=>{
"use strict";var ye=Object.defineProperty;var Le=Object.getOwnPropertyDescriptor;var We=Object.getOwnPropertyNames;var qe=Object.prototype.hasOwnProperty;var Ie=(t,e)=>{for(var r in e)ye(t,r,{get:e[r],enumerable:!0})},ze=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of We(e))!qe.call(t,a)&&a!==r&&ye(t,a,{get:()=>e[a],enumerable:!(i=Le(e,a))||i.enumerable});return t};var Ke=t=>ze(ye({},"__esModule",{value:!0}),t);var X=(t,e,r)=>new Promise((i,a)=>{var l=g=>{try{o(r.next(g))}catch(y){a(y)}},c=g=>{try{o(r.throw(g))}catch(y){a(y)}},o=g=>g.done?i(g.value):Promise.resolve(g.value).then(l,c);o((r=r.apply(t,e)).next())});var me={};Ie(me,{analyzeMetafile:()=>ft,analyzeMetafileSync:()=>gt,build:()=>st,buildSync:()=>ct,default:()=>ht,formatMessages:()=>ut,formatMessagesSync:()=>pt,initialize:()=>mt,serve:()=>ot,transform:()=>at,transformSync:()=>dt,version:()=>it});module.exports=Ke(me);function be(t){let e=i=>{if(i===null)r.write8(0);else if(typeof i=="boolean")r.write8(1),r.write8(+i);else if(typeof i=="number")r.write8(2),r.write32(i|0);else if(typeof i=="string")r.write8(3),r.write(H(i));else if(i instanceof Uint8Array)r.write8(4),r.write(i);else if(i instanceof Array){r.write8(5),r.write32(i.length);for(let a of i)e(a)}else{let a=Object.keys(i);r.write8(6),r.write32(a.length);for(let l of a)r.write(H(l)),e(i[l])}},r=new ae;return r.write32(0),r.write32(t.id<<1|+!t.isRequest),e(t.value),he(r.buf,r.len-4,0),r.buf.subarray(0,r.len)}function Ee(t){let e=()=>{switch(r.read8()){case 0:return null;case 1:return!!r.read8();case 2:return r.read32();case 3:return te(r.read());case 4:return r.read();case 5:{let c=r.read32(),o=[];for(let g=0;g<c;g++)o.push(e());return o}case 6:{let c=r.read32(),o={};for(let g=0;g<c;g++)o[te(r.read())]=e();return o}default:throw new Error("Invalid packet")}},r=new ae(t),i=r.read32(),a=(i&1)===0;i>>>=1;let l=e();if(r.ptr!==t.length)throw new Error("Invalid packet");return{id:i,isRequest:a,value:l}}var ae=class{constructor(e=new Uint8Array(1024)){this.buf=e;this.len=0;this.ptr=0}_write(e){if(this.len+e>this.buf.length){let r=new Uint8Array((this.len+e)*2);r.set(this.buf),this.buf=r}return this.len+=e,this.len-e}write8(e){let r=this._write(1);this.buf[r]=e}write32(e){let r=this._write(4);he(this.buf,e,r)}write(e){let r=this._write(4+e.length);he(this.buf,e.length,r),this.buf.set(e,r+4)}_read(e){if(this.ptr+e>this.buf.length)throw new Error("Invalid packet");return this.ptr+=e,this.ptr-e}read8(){return this.buf[this._read(1)]}read32(){return we(this.buf,this._read(4))}read(){let e=this.read32(),r=new Uint8Array(e),i=this._read(r.length);return r.set(this.buf.subarray(i,i+e)),r}},H,te;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let t=new TextEncoder,e=new TextDecoder;H=r=>t.encode(r),te=r=>e.decode(r)}else if(typeof Buffer!="undefined")H=t=>{let e=Buffer.from(t);return e instanceof Uint8Array||(e=new Uint8Array(e)),e},te=t=>{let{buffer:e,byteOffset:r,byteLength:i}=t;return Buffer.from(e,r,i).toString()};else throw new Error("No UTF-8 codec found");function we(t,e){return t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24}function he(t,e,r){t[r++]=e,t[r++]=e>>8,t[r++]=e>>16,t[r++]=e>>24}var ke="warning",$e="silent";function Me(t){if(t+="",t.indexOf(",")>=0)throw new Error(`Invalid target: ${t}`);return t}var ce=()=>null,F=t=>typeof t=="boolean"?null:"a boolean",Ve=t=>typeof t=="boolean"||typeof t=="object"&&!Array.isArray(t)?null:"a boolean or an object",b=t=>typeof t=="string"?null:"a string",de=t=>t instanceof RegExp?null:"a RegExp object",le=t=>typeof t=="number"&&t===(t|0)?null:"an integer",ve=t=>typeof t=="function"?null:"a function",q=t=>Array.isArray(t)?null:"an array",G=t=>typeof t=="object"&&t!==null&&!Array.isArray(t)?null:"an object",Je=t=>t instanceof WebAssembly.Module?null:"a WebAssembly.Module",Ye=t=>typeof t=="object"&&t!==null?null:"an array or an object",Ae=t=>typeof t=="object"&&!Array.isArray(t)?null:"an object or null",De=t=>typeof t=="string"||typeof t=="boolean"?null:"a string or a boolean",Qe=t=>typeof t=="string"||typeof t=="object"&&t!==null&&!Array.isArray(t)?null:"a string or an object",He=t=>typeof t=="string"||Array.isArray(t)?null:"a string or an array",Pe=t=>typeof t=="string"||t instanceof Uint8Array?null:"a string or a Uint8Array",Ge=t=>typeof t=="string"||t instanceof URL?null:"a string or a URL";function n(t,e,r,i){let a=t[r];if(e[r+""]=!0,a===void 0)return;let l=i(a);if(l!==null)throw new Error(`"${r}" must be ${l}`);return a}function z(t,e,r){for(let i in t)if(!(i in e))throw new Error(`Invalid option ${r}: "${i}"`)}function Ue(t){let e=Object.create(null),r=n(t,e,"wasmURL",Ge),i=n(t,e,"wasmModule",Je),a=n(t,e,"worker",F);return z(t,e,"in initialize() call"),{wasmURL:r,wasmModule:i,worker:a}}function Be(t){let e;if(t!==void 0){e=Object.create(null);for(let r of Object.keys(t)){let i=t[r];if(typeof i=="string"||i===!1)e[r]=i;else throw new Error(`Expected ${JSON.stringify(r)} in mangle cache to map to either a string or false`)}}return e}function pe(t,e,r,i,a){let l=n(e,r,"color",F),c=n(e,r,"logLevel",b),o=n(e,r,"logLimit",le);l!==void 0?t.push(`--color=${l}`):i&&t.push("--color=true"),t.push(`--log-level=${c||a}`),t.push(`--log-limit=${o||0}`)}function Te(t,e,r){let i=n(e,r,"legalComments",b),a=n(e,r,"sourceRoot",b),l=n(e,r,"sourcesContent",F),c=n(e,r,"target",He),o=n(e,r,"format",b),g=n(e,r,"globalName",b),y=n(e,r,"mangleProps",de),v=n(e,r,"reserveProps",de),A=n(e,r,"mangleQuoted",F),B=n(e,r,"minify",F),k=n(e,r,"minifySyntax",F),P=n(e,r,"minifyWhitespace",F),I=n(e,r,"minifyIdentifiers",F),L=n(e,r,"drop",q),V=n(e,r,"charset",b),R=n(e,r,"treeShaking",F),d=n(e,r,"ignoreAnnotations",F),s=n(e,r,"jsx",b),f=n(e,r,"jsxFactory",b),h=n(e,r,"jsxFragment",b),E=n(e,r,"jsxImportSource",b),C=n(e,r,"jsxDev",F),u=n(e,r,"jsxSideEffects",F),p=n(e,r,"define",G),w=n(e,r,"logOverride",G),S=n(e,r,"supported",G),x=n(e,r,"pure",q),D=n(e,r,"keepNames",F),$=n(e,r,"platform",b);if(i&&t.push(`--legal-comments=${i}`),a!==void 0&&t.push(`--source-root=${a}`),l!==void 0&&t.push(`--sources-content=${l}`),c&&(Array.isArray(c)?t.push(`--target=${Array.from(c).map(Me).join(",")}`):t.push(`--target=${Me(c)}`)),o&&t.push(`--format=${o}`),g&&t.push(`--global-name=${g}`),$&&t.push(`--platform=${$}`),B&&t.push("--minify"),k&&t.push("--minify-syntax"),P&&t.push("--minify-whitespace"),I&&t.push("--minify-identifiers"),V&&t.push(`--charset=${V}`),R!==void 0&&t.push(`--tree-shaking=${R}`),d&&t.push("--ignore-annotations"),L)for(let O of L)t.push(`--drop:${O}`);if(y&&t.push(`--mangle-props=${y.source}`),v&&t.push(`--reserve-props=${v.source}`),A!==void 0&&t.push(`--mangle-quoted=${A}`),s&&t.push(`--jsx=${s}`),f&&t.push(`--jsx-factory=${f}`),h&&t.push(`--jsx-fragment=${h}`),E&&t.push(`--jsx-import-source=${E}`),C&&t.push("--jsx-dev"),u&&t.push("--jsx-side-effects"),p)for(let O in p){if(O.indexOf("=")>=0)throw new Error(`Invalid define: ${O}`);t.push(`--define:${O}=${p[O]}`)}if(w)for(let O in w){if(O.indexOf("=")>=0)throw new Error(`Invalid log override: ${O}`);t.push(`--log-override:${O}=${w[O]}`)}if(S)for(let O in S){if(O.indexOf("=")>=0)throw new Error(`Invalid supported: ${O}`);t.push(`--supported:${O}=${S[O]}`)}if(x)for(let O of x)t.push(`--pure:${O}`);D&&t.push("--keep-names")}function Xe(t,e,r,i,a){var J;let l=[],c=[],o=Object.create(null),g=null,y=null,v=null;pe(l,e,o,r,i),Te(l,e,o);let A=n(e,o,"sourcemap",De),B=n(e,o,"bundle",F),k=n(e,o,"watch",Ve),P=n(e,o,"splitting",F),I=n(e,o,"preserveSymlinks",F),L=n(e,o,"metafile",F),V=n(e,o,"outfile",b),R=n(e,o,"outdir",b),d=n(e,o,"outbase",b),s=n(e,o,"tsconfig",b),f=n(e,o,"resolveExtensions",q),h=n(e,o,"nodePaths",q),E=n(e,o,"mainFields",q),C=n(e,o,"conditions",q),u=n(e,o,"external",q),p=n(e,o,"alias",G),w=n(e,o,"loader",G),S=n(e,o,"outExtension",G),x=n(e,o,"publicPath",b),D=n(e,o,"entryNames",b),$=n(e,o,"chunkNames",b),O=n(e,o,"assetNames",b),U=n(e,o,"inject",q),W=n(e,o,"banner",G),K=n(e,o,"footer",G),N=n(e,o,"entryPoints",Ye),T=n(e,o,"absWorkingDir",b),M=n(e,o,"stdin",G),_=(J=n(e,o,"write",F))!=null?J:a,Y=n(e,o,"allowOverwrite",F),ee=n(e,o,"incremental",F)===!0,oe=n(e,o,"mangleCache",G);if(o.plugins=!0,z(e,o,`in ${t}() call`),A&&l.push(`--sourcemap${A===!0?"":`=${A}`}`),B&&l.push("--bundle"),Y&&l.push("--allow-overwrite"),k)if(l.push("--watch"),typeof k=="boolean")v={};else{let m=Object.create(null),j=n(k,m,"onRebuild",ve);z(k,m,`on "watch" in ${t}() call`),v={onRebuild:j}}if(P&&l.push("--splitting"),I&&l.push("--preserve-symlinks"),L&&l.push("--metafile"),V&&l.push(`--outfile=${V}`),R&&l.push(`--outdir=${R}`),d&&l.push(`--outbase=${d}`),s&&l.push(`--tsconfig=${s}`),f){let m=[];for(let j of f){if(j+="",j.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${j}`);m.push(j)}l.push(`--resolve-extensions=${m.join(",")}`)}if(x&&l.push(`--public-path=${x}`),D&&l.push(`--entry-names=${D}`),$&&l.push(`--chunk-names=${$}`),O&&l.push(`--asset-names=${O}`),E){let m=[];for(let j of E){if(j+="",j.indexOf(",")>=0)throw new Error(`Invalid main field: ${j}`);m.push(j)}l.push(`--main-fields=${m.join(",")}`)}if(C){let m=[];for(let j of C){if(j+="",j.indexOf(",")>=0)throw new Error(`Invalid condition: ${j}`);m.push(j)}l.push(`--conditions=${m.join(",")}`)}if(u)for(let m of u)l.push(`--external:${m}`);if(p)for(let m in p){if(m.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${m}`);l.push(`--alias:${m}=${p[m]}`)}if(W)for(let m in W){if(m.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${m}`);l.push(`--banner:${m}=${W[m]}`)}if(K)for(let m in K){if(m.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${m}`);l.push(`--footer:${m}=${K[m]}`)}if(U)for(let m of U)l.push(`--inject:${m}`);if(w)for(let m in w){if(m.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${m}`);l.push(`--loader:${m}=${w[m]}`)}if(S)for(let m in S){if(m.indexOf("=")>=0)throw new Error(`Invalid out extension: ${m}`);l.push(`--out-extension:${m}=${S[m]}`)}if(N)if(Array.isArray(N))for(let m of N)c.push(["",m+""]);else for(let[m,j]of Object.entries(N))c.push([m+"",j+""]);if(M){let m=Object.create(null),j=n(M,m,"contents",Pe),Oe=n(M,m,"resolveDir",b),xe=n(M,m,"sourcefile",b),Se=n(M,m,"loader",b);z(M,m,'in "stdin" object'),xe&&l.push(`--sourcefile=${xe}`),Se&&l.push(`--loader=${Se}`),Oe&&(y=Oe+""),typeof j=="string"?g=H(j):j instanceof Uint8Array&&(g=j)}let Q=[];if(h)for(let m of h)m+="",Q.push(m);return{entries:c,flags:l,write:_,stdinContents:g,stdinResolveDir:y,absWorkingDir:T,incremental:ee,nodePaths:Q,watch:v,mangleCache:Be(oe)}}function Ze(t,e,r,i){let a=[],l=Object.create(null);pe(a,e,l,r,i),Te(a,e,l);let c=n(e,l,"sourcemap",De),o=n(e,l,"tsconfigRaw",Qe),g=n(e,l,"sourcefile",b),y=n(e,l,"loader",b),v=n(e,l,"banner",b),A=n(e,l,"footer",b),B=n(e,l,"mangleCache",G);return z(e,l,`in ${t}() call`),c&&a.push(`--sourcemap=${c===!0?"external":c}`),o&&a.push(`--tsconfig-raw=${typeof o=="string"?o:JSON.stringify(o)}`),g&&a.push(`--sourcefile=${g}`),y&&a.push(`--loader=${y}`),v&&a.push(`--banner=${v}`),A&&a.push(`--footer=${A}`),{flags:a,mangleCache:Be(B)}}function je(t){let e={},r={didClose:!1,reason:""},i={},a=0,l=0,c=new Uint8Array(16*1024),o=0,g=d=>{let s=o+d.length;if(s>c.length){let h=new Uint8Array(s*2);h.set(c),c=h}c.set(d,o),o+=d.length;let f=0;for(;f+4<=o;){let h=we(c,f);if(f+4+h>o)break;f+=4,P(c.subarray(f,f+h)),f+=h}f>0&&(c.copyWithin(0,f,o),o-=f)},y=d=>{r.didClose=!0,d&&(r.reason=": "+(d.message||d));let s="The service was stopped"+r.reason;for(let f in i)i[f](s,null);i={}},v=(d,s,f)=>{if(r.didClose)return f("The service is no longer running"+r.reason,null);let h=a++;i[h]=(E,C)=>{try{f(E,C)}finally{d&&d.unref()}},d&&d.ref(),t.writeToStdin(be({id:h,isRequest:!0,value:s}))},A=(d,s)=>{if(r.didClose)throw new Error("The service is no longer running"+r.reason);t.writeToStdin(be({id:d,isRequest:!1,value:s}))},B=(d,s)=>X(this,null,function*(){try{if(s.command==="ping"){A(d,{});return}if(typeof s.key=="number"){let f=e[s.key];if(f){let h=f[s.command];if(h){yield h(d,s);return}}}throw new Error("Invalid command: "+s.command)}catch(f){A(d,{errors:[ie(f,t,null,void 0,"")]})}}),k=!0,P=d=>{if(k){k=!1;let f=String.fromCharCode(...d);if(f!=="0.15.18")throw new Error(`Cannot start service: Host version "0.15.18" does not match binary version ${JSON.stringify(f)}`);return}let s=Ee(d);if(s.isRequest)B(s.id,s.value);else{let f=i[s.id];delete i[s.id],s.value.error?f(s.value.error,{}):f(null,s.value)}};return{readFromStdout:g,afterClose:y,service:{buildOrServe:({callName:d,refs:s,serveOptions:f,options:h,isTTY:E,defaultWD:C,callback:u})=>{let p=0,w=l++,S={},x={ref(){++p===1&&s&&s.ref()},unref(){--p===0&&(delete e[w],s&&s.unref())}};e[w]=S,x.ref(),et(d,w,v,A,x,t,S,h,f,E,C,r,(D,$)=>{try{u(D,$)}finally{x.unref()}})},transform:({callName:d,refs:s,input:f,options:h,isTTY:E,fs:C,callback:u})=>{let p=Fe(),w=S=>{try{if(typeof f!="string"&&!(f instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:x,mangleCache:D}=Ze(d,h,E,$e),$={command:"transform",flags:x,inputFS:S!==null,input:S!==null?H(S):typeof f=="string"?H(f):f};D&&($.mangleCache=D),v(s,$,(O,U)=>{if(O)return u(new Error(O),null);let W=Z(U.errors,p),K=Z(U.warnings,p),N=1,T=()=>{if(--N===0){let M={warnings:K,code:U.code,map:U.map};U.mangleCache&&(M.mangleCache=U==null?void 0:U.mangleCache),u(null,M)}};if(W.length>0)return u(ne("Transform failed",W,K),null);U.codeFS&&(N++,C.readFile(U.code,(M,_)=>{M!==null?u(M,null):(U.code=_,T())})),U.mapFS&&(N++,C.readFile(U.map,(M,_)=>{M!==null?u(M,null):(U.map=_,T())})),T()})}catch(x){let D=[];try{pe(D,h,{},E,$e)}catch(O){}let $=ie(x,t,p,void 0,"");v(s,{command:"error",flags:D,error:$},()=>{$.detail=p.load($.detail),u(ne("Transform failed",[$],[]),null)})}};if((typeof f=="string"||f instanceof Uint8Array)&&f.length>1024*1024){let S=w;w=()=>C.writeFile(f,S)}w(null)},formatMessages:({callName:d,refs:s,messages:f,options:h,callback:E})=>{let C=re(f,"messages",null,"");if(!h)throw new Error(`Missing second argument in ${d}() call`);let u={},p=n(h,u,"kind",b),w=n(h,u,"color",F),S=n(h,u,"terminalWidth",le);if(z(h,u,`in ${d}() call`),p===void 0)throw new Error(`Missing "kind" in ${d}() call`);if(p!=="error"&&p!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${d}() call`);let x={command:"format-msgs",messages:C,isWarning:p==="warning"};w!==void 0&&(x.color=w),S!==void 0&&(x.terminalWidth=S),v(s,x,(D,$)=>{if(D)return E(new Error(D),null);E(null,$.messages)})},analyzeMetafile:({callName:d,refs:s,metafile:f,options:h,callback:E})=>{h===void 0&&(h={});let C={},u=n(h,C,"color",F),p=n(h,C,"verbose",F);z(h,C,`in ${d}() call`);let w={command:"analyze-metafile",metafile:f};u!==void 0&&(w.color=u),p!==void 0&&(w.verbose=p),v(s,w,(S,x)=>{if(S)return E(new Error(S),null);E(null,x.result)})}}}}function et(t,e,r,i,a,l,c,o,g,y,v,A,B){let k=Fe(),P=(R,d,s,f)=>{let h=[];try{pe(h,o,{},y,ke)}catch(C){}let E=ie(R,l,k,s,d);r(a,{command:"error",flags:h,error:E},()=>{E.detail=k.load(E.detail),f(E)})},I=(R,d)=>{P(R,d,void 0,s=>{B(ne("Build failed",[s],[]),null)})},L;if(typeof o=="object"){let R=o.plugins;if(R!==void 0){if(!Array.isArray(R))throw new Error('"plugins" must be an array');L=R}}if(L&&L.length>0){if(l.isSync){I(new Error("Cannot use plugins in synchronous API calls"),"");return}rt(e,r,i,a,l,c,o,L,k).then(R=>{if(!R.ok){I(R.error,R.pluginName);return}try{V(R.requestPlugins,R.runOnEndCallbacks)}catch(d){I(d,"")}},R=>I(R,""));return}try{V(null,(R,d,s)=>s())}catch(R){I(R,"")}function V(R,d){let s=!l.isWriteUnavailable,{entries:f,flags:h,write:E,stdinContents:C,stdinResolveDir:u,absWorkingDir:p,incremental:w,nodePaths:S,watch:x,mangleCache:D}=Xe(t,o,y,ke,s),$={command:"build",key:e,entries:f,flags:h,write:E,stdinContents:C,stdinResolveDir:u,absWorkingDir:p||v,incremental:w,nodePaths:S};R&&($.plugins=R),D&&($.mangleCache=D);let O=g&&tt(e,r,i,a,c,g,$),U,W,K=(T,M)=>{T.outputFiles&&(M.outputFiles=T.outputFiles.map(nt)),T.metafile&&(M.metafile=JSON.parse(T.metafile)),T.mangleCache&&(M.mangleCache=T.mangleCache),T.writeToStdout!==void 0&&console.log(te(T.writeToStdout).replace(/\n$/,""))},N=(T,M)=>{let _={errors:Z(T.errors,k),warnings:Z(T.warnings,k)};K(T,_),d(_,P,()=>{if(_.errors.length>0)return M(ne("Build failed",_.errors,_.warnings),null);if(T.rebuild){if(!U){let Y=!1;U=()=>new Promise((ee,oe)=>{if(Y||A.didClose)throw new Error("Cannot rebuild");r(a,{command:"rebuild",key:e},(Q,J)=>{if(Q)return M(ne("Build failed",[{id:"",pluginName:"",text:Q,location:null,notes:[],detail:void 0}],[]),null);N(J,(m,j)=>{m?oe(m):ee(j)})})}),a.ref(),U.dispose=()=>{Y||(Y=!0,r(a,{command:"rebuild-dispose",key:e},()=>{}),a.unref())}}_.rebuild=U}if(T.watch){if(!W){let Y=!1;a.ref(),W=()=>{Y||(Y=!0,delete c["watch-rebuild"],r(a,{command:"watch-stop",key:e},()=>{}),a.unref())},x&&(c["watch-rebuild"]=(ee,oe)=>{try{let Q=oe.args,J={errors:Z(Q.errors,k),warnings:Z(Q.warnings,k)};K(Q,J),d(J,P,()=>{if(J.errors.length>0){x.onRebuild&&x.onRebuild(ne("Build failed",J.errors,J.warnings),null);return}J.stop=W,x.onRebuild&&x.onRebuild(null,J)})}catch(Q){console.error(Q)}i(ee,{})})}_.stop=W}M(null,_)})};if(E&&l.isWriteUnavailable)throw new Error('The "write" option is unavailable in this environment');if(w&&l.isSync)throw new Error('Cannot use "incremental" with a synchronous build');if(x&&l.isSync)throw new Error('Cannot use "watch" with a synchronous build');r(a,$,(T,M)=>{if(T)return B(new Error(T),null);if(O){let _=M,Y=!1;a.ref();let ee={port:_.port,host:_.host,wait:O.wait,stop(){Y||(Y=!0,O.stop(),a.unref())}};return a.ref(),O.wait.then(a.unref,a.unref),B(null,ee)}return N(M,B)})}}var tt=(t,e,r,i,a,l,c)=>{let o={},g=n(l,o,"port",le),y=n(l,o,"host",b),v=n(l,o,"servedir",b),A=n(l,o,"onRequest",ve),B=new Promise((k,P)=>{a["serve-wait"]=(I,L)=>{L.error!==null?P(new Error(L.error)):k(),r(I,{})}});return c.serve={},z(l,o,"in serve() call"),g!==void 0&&(c.serve.port=g),y!==void 0&&(c.serve.host=y),v!==void 0&&(c.serve.servedir=v),a["serve-request"]=(k,P)=>{A&&A(P.args),r(k,{})},{wait:B,stop(){e(i,{command:"serve-stop",key:t},()=>{})}}},rt=(t,e,r,i,a,l,c,o,g)=>X(void 0,null,function*(){let y=[],v=[],A={},B={},k=0,P=0,I=[],L=!1;o=[...o];for(let R of o){let d={};if(typeof R!="object")throw new Error(`Plugin at index ${P} must be an object`);let s=n(R,d,"name",b);if(typeof s!="string"||s==="")throw new Error(`Plugin at index ${P} is missing a name`);try{let f=n(R,d,"setup",ve);if(typeof f!="function")throw new Error("Plugin is missing a setup function");z(R,d,`on plugin ${JSON.stringify(s)}`);let h={name:s,onResolve:[],onLoad:[]};P++;let C=f({initialOptions:c,resolve:(u,p={})=>{if(!L)throw new Error('Cannot call "resolve" before plugin setup has completed');if(typeof u!="string")throw new Error("The path to resolve must be a string");let w=Object.create(null),S=n(p,w,"pluginName",b),x=n(p,w,"importer",b),D=n(p,w,"namespace",b),$=n(p,w,"resolveDir",b),O=n(p,w,"kind",b),U=n(p,w,"pluginData",ce);return z(p,w,"in resolve() call"),new Promise((W,K)=>{let N={command:"resolve",path:u,key:t,pluginName:s};S!=null&&(N.pluginName=S),x!=null&&(N.importer=x),D!=null&&(N.namespace=D),$!=null&&(N.resolveDir=$),O!=null&&(N.kind=O),U!=null&&(N.pluginData=g.store(U)),e(i,N,(T,M)=>{T!==null?K(new Error(T)):W({errors:Z(M.errors,g),warnings:Z(M.warnings,g),path:M.path,external:M.external,sideEffects:M.sideEffects,namespace:M.namespace,suffix:M.suffix,pluginData:g.load(M.pluginData)})})})},onStart(u){let p='This error came from the "onStart" callback registered here:',w=ue(new Error(p),a,"onStart");y.push({name:s,callback:u,note:w})},onEnd(u){let p='This error came from the "onEnd" callback registered here:',w=ue(new Error(p),a,"onEnd");v.push({name:s,callback:u,note:w})},onResolve(u,p){let w='This error came from the "onResolve" callback registered here:',S=ue(new Error(w),a,"onResolve"),x={},D=n(u,x,"filter",de),$=n(u,x,"namespace",b);if(z(u,x,`in onResolve() call for plugin ${JSON.stringify(s)}`),D==null)throw new Error("onResolve() call is missing a filter");let O=k++;A[O]={name:s,callback:p,note:S},h.onResolve.push({id:O,filter:D.source,namespace:$||""})},onLoad(u,p){let w='This error came from the "onLoad" callback registered here:',S=ue(new Error(w),a,"onLoad"),x={},D=n(u,x,"filter",de),$=n(u,x,"namespace",b);if(z(u,x,`in onLoad() call for plugin ${JSON.stringify(s)}`),D==null)throw new Error("onLoad() call is missing a filter");let O=k++;B[O]={name:s,callback:p,note:S},h.onLoad.push({id:O,filter:D.source,namespace:$||""})},esbuild:a.esbuild});C&&(yield C),I.push(h)}catch(f){return{ok:!1,error:f,pluginName:s}}}l["on-start"]=(R,d)=>X(void 0,null,function*(){let s={errors:[],warnings:[]};yield Promise.all(y.map(C=>X(void 0,[C],function*({name:f,callback:h,note:E}){try{let u=yield h();if(u!=null){if(typeof u!="object")throw new Error(`Expected onStart() callback in plugin ${JSON.stringify(f)} to return an object`);let p={},w=n(u,p,"errors",q),S=n(u,p,"warnings",q);z(u,p,`from onStart() callback in plugin ${JSON.stringify(f)}`),w!=null&&s.errors.push(...re(w,"errors",g,f)),S!=null&&s.warnings.push(...re(S,"warnings",g,f))}}catch(u){s.errors.push(ie(u,a,g,E&&E(),f))}}))),r(R,s)}),l["on-resolve"]=(R,d)=>X(void 0,null,function*(){let s={},f="",h,E;for(let C of d.ids)try{({name:f,callback:h,note:E}=A[C]);let u=yield h({path:d.path,importer:d.importer,namespace:d.namespace,resolveDir:d.resolveDir,kind:d.kind,pluginData:g.load(d.pluginData)});if(u!=null){if(typeof u!="object")throw new Error(`Expected onResolve() callback in plugin ${JSON.stringify(f)} to return an object`);let p={},w=n(u,p,"pluginName",b),S=n(u,p,"path",b),x=n(u,p,"namespace",b),D=n(u,p,"suffix",b),$=n(u,p,"external",F),O=n(u,p,"sideEffects",F),U=n(u,p,"pluginData",ce),W=n(u,p,"errors",q),K=n(u,p,"warnings",q),N=n(u,p,"watchFiles",q),T=n(u,p,"watchDirs",q);z(u,p,`from onResolve() callback in plugin ${JSON.stringify(f)}`),s.id=C,w!=null&&(s.pluginName=w),S!=null&&(s.path=S),x!=null&&(s.namespace=x),D!=null&&(s.suffix=D),$!=null&&(s.external=$),O!=null&&(s.sideEffects=O),U!=null&&(s.pluginData=g.store(U)),W!=null&&(s.errors=re(W,"errors",g,f)),K!=null&&(s.warnings=re(K,"warnings",g,f)),N!=null&&(s.watchFiles=fe(N,"watchFiles")),T!=null&&(s.watchDirs=fe(T,"watchDirs"));break}}catch(u){s={id:C,errors:[ie(u,a,g,E&&E(),f)]};break}r(R,s)}),l["on-load"]=(R,d)=>X(void 0,null,function*(){let s={},f="",h,E;for(let C of d.ids)try{({name:f,callback:h,note:E}=B[C]);let u=yield h({path:d.path,namespace:d.namespace,suffix:d.suffix,pluginData:g.load(d.pluginData)});if(u!=null){if(typeof u!="object")throw new Error(`Expected onLoad() callback in plugin ${JSON.stringify(f)} to return an object`);let p={},w=n(u,p,"pluginName",b),S=n(u,p,"contents",Pe),x=n(u,p,"resolveDir",b),D=n(u,p,"pluginData",ce),$=n(u,p,"loader",b),O=n(u,p,"errors",q),U=n(u,p,"warnings",q),W=n(u,p,"watchFiles",q),K=n(u,p,"watchDirs",q);z(u,p,`from onLoad() callback in plugin ${JSON.stringify(f)}`),s.id=C,w!=null&&(s.pluginName=w),S instanceof Uint8Array?s.contents=S:S!=null&&(s.contents=H(S)),x!=null&&(s.resolveDir=x),D!=null&&(s.pluginData=g.store(D)),$!=null&&(s.loader=$),O!=null&&(s.errors=re(O,"errors",g,f)),U!=null&&(s.warnings=re(U,"warnings",g,f)),W!=null&&(s.watchFiles=fe(W,"watchFiles")),K!=null&&(s.watchDirs=fe(K,"watchDirs"));break}}catch(u){s={id:C,errors:[ie(u,a,g,E&&E(),f)]};break}r(R,s)});let V=(R,d,s)=>s();return v.length>0&&(V=(R,d,s)=>{(()=>X(void 0,null,function*(){for(let{name:f,callback:h,note:E}of v)try{yield h(R)}catch(C){R.errors.push(yield new Promise(u=>d(C,f,E&&E(),u)))}}))().then(s)}),L=!0,{ok:!0,requestPlugins:I,runOnEndCallbacks:V}});function Fe(){let t=new Map,e=0;return{load(r){return t.get(r)},store(r){if(r===void 0)return-1;let i=e++;return t.set(i,r),i}}}function ue(t,e,r){let i,a=!1;return()=>{if(a)return i;a=!0;try{let l=(t.stack+"").split(`
`);l.splice(1,1);let c=Ne(e,l,r);if(c)return i={text:t.message,location:c},i}catch(l){}}}function ie(t,e,r,i,a){let l="Internal error",c=null;try{l=(t&&t.message||t)+""}catch(o){}try{c=Ne(e,(t.stack+"").split(`
`),"")}catch(o){}return{id:"",pluginName:a,text:l,location:c,notes:i?[i]:[],detail:r?r.store(t):-1}}function Ne(t,e,r){let i="    at ";if(t.readFileSync&&!e[0].startsWith(i)&&e[1].startsWith(i))for(let a=1;a<e.length;a++){let l=e[a];if(!!l.startsWith(i))for(l=l.slice(i.length);;){let c=/^(?:new |async )?\S+ \((.*)\)$/.exec(l);if(c){l=c[1];continue}if(c=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(l),c){l=c[1];continue}if(c=/^(\S+):(\d+):(\d+)$/.exec(l),c){let o;try{o=t.readFileSync(c[1],"utf8")}catch(A){break}let g=o.split(/\r\n|\r|\n|\u2028|\u2029/)[+c[2]-1]||"",y=+c[3]-1,v=g.slice(y,y+r.length)===r?r.length:0;return{file:c[1],namespace:"file",line:+c[2],column:H(g.slice(0,y)).length,length:H(g.slice(y,y+v)).length,lineText:g+`
`+e.slice(1).join(`
`),suggestion:""}}break}}return null}function ne(t,e,r){let i=5,a=e.length<1?"":` with ${e.length} error${e.length<2?"":"s"}:`+e.slice(0,i+1).map((c,o)=>{if(o===i)return`
...`;if(!c.location)return`
error: ${c.text}`;let{file:g,line:y,column:v}=c.location,A=c.pluginName?`[plugin: ${c.pluginName}] `:"";return`
${g}:${y}:${v}: ERROR: ${A}${c.text}`}).join(""),l=new Error(`${t}${a}`);return l.errors=e,l.warnings=r,l}function Z(t,e){for(let r of t)r.detail=e.load(r.detail);return t}function Ce(t,e){if(t==null)return null;let r={},i=n(t,r,"file",b),a=n(t,r,"namespace",b),l=n(t,r,"line",le),c=n(t,r,"column",le),o=n(t,r,"length",le),g=n(t,r,"lineText",b),y=n(t,r,"suggestion",b);return z(t,r,e),{file:i||"",namespace:a||"",line:l||0,column:c||0,length:o||0,lineText:g||"",suggestion:y||""}}function re(t,e,r,i){let a=[],l=0;for(let c of t){let o={},g=n(c,o,"id",b),y=n(c,o,"pluginName",b),v=n(c,o,"text",b),A=n(c,o,"location",Ae),B=n(c,o,"notes",q),k=n(c,o,"detail",ce),P=`in element ${l} of "${e}"`;z(c,o,P);let I=[];if(B)for(let L of B){let V={},R=n(L,V,"text",b),d=n(L,V,"location",Ae);z(L,V,P),I.push({text:R||"",location:Ce(d,P)})}a.push({id:g||"",pluginName:y||i,text:v||"",location:Ce(A,P),notes:I,detail:r?r.store(k):-1}),l++}return a}function fe(t,e){let r=[];for(let i of t){if(typeof i!="string")throw new Error(`${JSON.stringify(e)} must be an array of strings`);r.push(i)}return r}function nt({path:t,contents:e}){let r=null;return{path:t,contents:e,get text(){let i=this.contents;return(r===null||i!==e)&&(e=i,r=te(i)),r}}}var it="0.15.18",st=t=>ge().build(t),ot=()=>{throw new Error('The "serve" API only works in node')},at=(t,e)=>ge().transform(t,e),ut=(t,e)=>ge().formatMessages(t,e),ft=(t,e)=>ge().analyzeMetafile(t,e),ct=()=>{throw new Error('The "buildSync" API only works in node')},dt=()=>{throw new Error('The "transformSync" API only works in node')},pt=()=>{throw new Error('The "formatMessagesSync" API only works in node')},gt=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},se,Re,ge=()=>{if(Re)return Re;throw se?new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this'):new Error('You need to call "initialize" before calling this')},mt=t=>{t=Ue(t||{});let e=t.wasmURL,r=t.wasmModule,i=t.worker!==!1;if(!e&&!r)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(se)throw new Error('Cannot call "initialize" more than once');return se=yt(e||"",r,i),se.catch(()=>{se=void 0}),se},yt=(t,e,r)=>X(void 0,null,function*(){let i;if(r){let y=new Blob(['onmessage=(postMessage=>{\n// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`\n`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`\n`);g.length>1&&console.log(g.slice(0,-1).join(`\n`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.15.18"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(postMessage)'],{type:"text/javascript"});i=new Worker(URL.createObjectURL(y))}else{let y=(postMessage=>{
// Copyright 2018 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.
var y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`
`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`
`);g.length>1&&console.log(g.slice(0,-1).join(`
`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.15.18"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(v=>i.onmessage({data:v}));i={onmessage:null,postMessage:v=>setTimeout(()=>y({data:v})),terminate(){}}}let a,l,c=new Promise((y,v)=>{a=y,l=v});i.onmessage=({data:y})=>{i.onmessage=({data:v})=>o(v),y?l(y):a()},i.postMessage(e||new URL(t,location.href).toString());let{readFromStdout:o,service:g}=je({writeToStdin(y){i.postMessage(y)},isSync:!1,isWriteUnavailable:!0,esbuild:me});yield c,Re={build:y=>new Promise((v,A)=>g.buildOrServe({callName:"build",refs:null,serveOptions:null,options:y,isTTY:!1,defaultWD:"/",callback:(B,k)=>B?A(B):v(k)})),transform:(y,v)=>new Promise((A,B)=>g.transform({callName:"transform",refs:null,input:y,options:v||{},isTTY:!1,fs:{readFile(k,P){P(new Error("Internal error"),null)},writeFile(k,P){P(null)}},callback:(k,P)=>k?B(k):A(P)})),formatMessages:(y,v)=>new Promise((A,B)=>g.formatMessages({callName:"formatMessages",refs:null,messages:y,options:v,callback:(k,P)=>k?B(k):A(P)})),analyzeMetafile:(y,v)=>new Promise((A,B)=>g.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:typeof y=="string"?y:JSON.stringify(y),options:v,callback:(k,P)=>k?B(k):A(P)}))}}),ht=me;
})(typeof module==="object"?module:{set exports(x){(typeof self!=="undefined"?self:this).esbuild=x}});
